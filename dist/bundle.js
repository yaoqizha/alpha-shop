(()=>{"use strict";console.log("JS loaded!!!");const e=document.getElementById("form").querySelectorAll(".part"),t=document.getElementById("step-control").querySelectorAll(".stepper__panel__step div .stepper__panel__step--circle"),n=document.getElementById("btn-control"),r=n.querySelector(".control__panel--next"),c=n.querySelector(".control__panel--back"),o=document.getElementById("darkmode__input--toggle--pc"),a=document.getElementById("nav__darkmode--toggle"),s=document.querySelector(".navbar__logo"),l=document.querySelector("#footer-logo");let i=1;n.addEventListener("click",(n=>{const o=n.target.classList;o.contains("control__panel--next")||o.contains("next-arrow")?i<3&&(i+=1,t[i-1].classList.add("active"),t[i-2].classList.add("checked"),e.forEach((e=>e.classList.add("d-none"))),document.getElementById(`step${i}`).classList.remove("d-none")):(o.contains("control__panel--back")||o.contains("back-arrow"))&&i>1&&(i-=1,t[i].classList.remove("active"),t[i-1].classList.remove("checked"),e.forEach((e=>e.classList.add("d-none"))),document.getElementById(`step${i}`).classList.remove("d-none")),i>1?c.classList.remove("v-hidden"):c.classList.add("v-hidden"),i<3?r.innerHTML='下一步 <span class="arrow next-arrow">→</span>':3===i&&(r.innerHTML="確認下單"),console.log("當前step",i)}));const d=e=>{e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),s.setAttribute("src","images/Logo-dark@2x.png"),l.setAttribute("src","images/Logo-dark@2x.png")):(document.documentElement.setAttribute("data-theme","light"),s.setAttribute("src","images/Logo@2x.png"),l.setAttribute("src","images/Logo@2x.png"))};o.addEventListener("change",d),a.addEventListener("change",d);const m=document.querySelector(".shopping-cart__panel"),u=[{name:"product1",price:3999},{name:"product2",price:1299}],g=document.querySelector(".total-fee-amount");m.addEventListener("click",(e=>{const t=e.target.parentElement.children[1],n=e.target.parentElement.parentElement.children[2],{price:r}=u.find((({name:t})=>t===e.target.parentElement.id));let c=Number(t.innerText),o=0,a=Number(g.innerText.substr(1).replace(/,/,""));e.target.classList.contains("cart-item-button1")?(c+=1,t.innerText=c,a+=r):e.target.classList.contains("cart-item-button2")&&(c-=1,c<0&&(c=0),t.innerText=c,a-=r),o=c*r,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(o),n.innerText=o,g.innerText=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(a)}))})();